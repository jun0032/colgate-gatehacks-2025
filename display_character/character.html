<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://unpkg.com/98.css" />
  </head>
  <body>
    <div id="HUD" class="window">
      <div class="title-bar">
        <div class="title-bar-text">Your Best Friend.</div>
        <div id="buttons">
          <button id="close-btn">‚ùå</button>
        </div>
      </div>
      <div class="mini-container-hud">
        <img id="portrait" src="characters/cat.jpg"></img>
        <div id="buttons" class="meow">
          <button id="settings-btn">‚öôÔ∏è</button>
          <button id="character-btn">üë§</button>
          <button id="message-btn">üí¨</button>
          <button id="game-btn">üè†</button>
        </div>
      </div>

      <div id="text" class="status-bar">Hello from the corner!</div>
    </div>

<div id="message-box" class="window" style="display: none; ">
      <div class="title-bar">
        <div class="title-bar-text">Send a Message</div>
        <div id="message-box-buttons">
          <button onclick="document.getElementById('message-box').style.display='none'">‚ùå</button>
        </div>
      </div>
      <div style="padding: 5px;">
        <input type="text" id="message-input" placeholder="Type your prompt here..." style="width: 200px; margin-bottom: 5px;" />
        <button id="message-send-btn">Send</button>
      </div>
    </div>

      <!-- SETTINGS BOX -->
    <div id="settings-box" class="window"
         style="display:none; position:fixed; bottom:140px; right:10px; z-index:100; width: 220px;">
      <div class="title-bar">
        <div class="title-bar-text">Settings</div>
        <div id="settings-close">
          <button onclick="document.getElementById('settings-box').style.display='none'">‚ùå</button>
        </div>
      </div>

      <div style="padding:10px; font-size:14px;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
          <span>Show Text Bubble</span>
          <label style=" position:relative; display:inline-block; width:42px; height:22px; cursor:pointer; ">
            <input type="checkbox" id="toggle-textbox" checked style="opacity:0; width:0; height:0;">
            <span style=" position:absolute; inset:0; background:#bfbfbf; border-radius:20px; transition:0.3s;"></span>
            <span style=" position:absolute; height:18px; width:18px; left:2px; bottom:2px; background:white; border-radius:50%; transition:0.3s;"></span>
          </label>

          <script>
            const toggle = document.querySelector('#toggle-textbox');
            const bg = toggle.parentElement.querySelector('span:first-of-type');
            const knob = toggle.parentElement.querySelector('span:last-of-type');
            function updateSwitch() {
              if (toggle.checked) {
                bg.style.background = '#4cd964';
                knob.style.transform = 'translateX(20px)';
              } else {
                bg.style.background = '#bfbfbf';
                knob.style.transform = 'translateX(0px)';
              }
            }
            toggle.addEventListener('change', updateSwitch);
            updateSwitch();
          </script>
        </div>
      </div>
    </div>

    <!-- Separate character selection window -->
    <div id="character-window" class="window" style="display: none;">
      <div class="title-bar">
        <div class="title-bar-text">Choose Character</div>
        <div class="title-bar-controls">
          <div id="buttons">
            <button id="close-btn">‚ùå</button>
          </div>
        </div>
      </div>
        <div class="window-body">
          <div class="character-grid">
            <button class="character-option" data-character="characters/amogus.jpg">
              <img src="characters/amogus.jpg" alt="Character 1">
            </button>
            <button class="character-option" data-character="characters/miku.jpg">
              <img src="characters/miku.jpg" alt="Character 2">
            </button>
            <button class="character-option" data-character="characters/korby.jpg">
              <img src="characters/korby.jpg" alt="Character 3">
            </button>
            <button class="character-option" data-character="characters/cat.jpg">
              <img src="characters/cat.jpg" alt="Character 4">
            </button>
          </div>
        </div>
      </div>
    <script src="character.js"></script>
  </body>
</html>
